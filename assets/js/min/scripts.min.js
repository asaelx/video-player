function init(){player=document.getElementsByClassName("player")[0],video=player.querySelector("video"),controls=player.querySelector(".player-controls"),playBtn=controls.querySelector(".player-play-btn"),playBtnIcon=playBtn.querySelector("svg").querySelector("use"),seekSlider=controls.querySelector(".player-seek-slider"),progressBar=controls.querySelector(".player-progress-bar"),bufferBar=controls.querySelector(".player-buffer-bar"),info=controls.querySelector(".player-info"),currentTime=info.querySelector(".player-info-current-time"),durationTime=info.querySelector(".player-info-duration-time"),muteBtn=controls.querySelector(".player-mute-btn"),muteBtnIcon=muteBtn.querySelector("svg").querySelector("use"),volumeSlider=controls.querySelector(".player-volume-slider"),fullscreenBtn=controls.querySelector(".player-fullscreen-btn"),playBtn.addEventListener("click",_playPause,!1),seekSlider.addEventListener("change",_seek,!1),video.addEventListener("timeupdate",_seekTimeUpdate,!1),video.addEventListener("click",_playPause,!1),player.addEventListener("mouseover",_showControls,!1),player.addEventListener("mouseout",_hideControls,!1),muteBtn.addEventListener("click",_mute,!1),volumeSlider.addEventListener("change",_setVolume,!1),fullscreenBtn.addEventListener("click",_toggleFullscreen,!1)}function _playPause(){video.paused?(video.play(),playBtnIcon.setAttribute("xlink:href","#icon-pause")):(video.pause(),playBtnIcon.setAttribute("xlink:href","#icon-play"))}function _seek(){var e=video.duration*(seekSlider.value/100);video.currentTime=e,progressBar.value=seekSlider.value}function _seekTimeUpdate(){var e=video.currentTime*(100/video.duration);seekSlider.value=e,progressBar.value=e,buffered=video.buffered.end(0)*(100/video.duration),bufferBar.value=buffered;var r=Math.floor(video.currentTime/60),t=Math.floor(video.currentTime-60*r),o=Math.floor(video.duration/60),l=Math.floor(video.duration-60*o);10>r&&(r="0"+r),10>t&&(t="0"+t),10>o&&(o="0"+o),10>l&&(l="0"+l),currentTime.innerHTML=r+":"+t,durationTime.innerHTML=o+":"+l}function _mute(){video.muted?(video.muted=!1,muteBtnIcon.setAttribute("xlink:href","#icon-volume-up")):(video.muted=!0,muteBtnIcon.setAttribute("xlink:href","#icon-volume-mute"))}function _setVolume(){video.volume=volumeSlider.value/10}function _toggleFullscreen(){video.requestFullscreen?video.requestFullscreen():video.webkitRequestFullscreen?video.webkitRequestFullscreen():video.mozRequestFullscreen&&video.mozRequestFullscreen()}function _showControls(){_hasClass(controls,"invisible")&&(_removeClass(controls,"invisible"),_addClass(controls,"visible"))}function _hideControls(){_hasClass(controls,"visible")&&(_removeClass(controls,"visible"),_addClass(controls,"invisible"))}function _hasClass(e,r){return e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function _addClass(e,r){this._hasClass(e,r)||(e.className+=" "+r)}function _removeClass(e,r){if(_hasClass(e,r)){var t=new RegExp("(\\s|^)"+r+"(\\s|$)");e.className=e.className.replace(t," ")}}var player,video,controls,playBtn,playBtnIcon,seekSlider,progressBar,bufferBar,info,currentTime,durationTime,muteBtn,muteBtnIcon,volumeSlider,fullscreenBtn;window.onload=init;